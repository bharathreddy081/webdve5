"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _stream = require("stream");

class RunnerTransformStream extends _stream.Transform {
  constructor(cid, emitter) {
    super();
    this.cid = cid;
    this.emitter = emitter;
  }

  _transform(chunk, encoding, callback) {
    const logMsg = chunk.toString();

    if (logMsg.startsWith('Debugger listening on ws')) {
      return callback();
    }

    this.push(`[${this.cid}] ${logMsg}`);
    callback();
  }

}

exports.default = RunnerTransformStream;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy90cmFuc2Zvcm1TdHJlYW0uanMiXSwibmFtZXMiOlsiUnVubmVyVHJhbnNmb3JtU3RyZWFtIiwiVHJhbnNmb3JtIiwiY29uc3RydWN0b3IiLCJjaWQiLCJlbWl0dGVyIiwiX3RyYW5zZm9ybSIsImNodW5rIiwiZW5jb2RpbmciLCJjYWxsYmFjayIsImxvZ01zZyIsInRvU3RyaW5nIiwic3RhcnRzV2l0aCIsInB1c2giXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUVlLE1BQU1BLHFCQUFOLFNBQW9DQyxpQkFBcEMsQ0FBOEM7QUFDekRDLEVBQUFBLFdBQVcsQ0FBRUMsR0FBRixFQUFPQyxPQUFQLEVBQWdCO0FBQ3ZCO0FBQ0EsU0FBS0QsR0FBTCxHQUFXQSxHQUFYO0FBQ0EsU0FBS0MsT0FBTCxHQUFlQSxPQUFmO0FBQ0g7O0FBRURDLEVBQUFBLFVBQVUsQ0FBQ0MsS0FBRCxFQUFRQyxRQUFSLEVBQWtCQyxRQUFsQixFQUE0QjtBQUNsQyxVQUFNQyxNQUFNLEdBQUdILEtBQUssQ0FBQ0ksUUFBTixFQUFmOztBQUVBLFFBQUlELE1BQU0sQ0FBQ0UsVUFBUCxDQUFrQiwwQkFBbEIsQ0FBSixFQUFtRDtBQUMvQyxhQUFPSCxRQUFRLEVBQWY7QUFDSDs7QUFFRCxTQUFLSSxJQUFMLENBQVcsSUFBRyxLQUFLVCxHQUFJLEtBQUlNLE1BQU8sRUFBbEM7QUFDQUQsSUFBQUEsUUFBUTtBQUNYOztBQWhCd0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUcmFuc2Zvcm0gfSBmcm9tICdzdHJlYW0nXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1bm5lclRyYW5zZm9ybVN0cmVhbSBleHRlbmRzIFRyYW5zZm9ybSB7XG4gICAgY29uc3RydWN0b3IgKGNpZCwgZW1pdHRlcikge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuY2lkID0gY2lkXG4gICAgICAgIHRoaXMuZW1pdHRlciA9IGVtaXR0ZXJcbiAgICB9XG5cbiAgICBfdHJhbnNmb3JtKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgbG9nTXNnID0gY2h1bmsudG9TdHJpbmcoKVxuXG4gICAgICAgIGlmIChsb2dNc2cuc3RhcnRzV2l0aCgnRGVidWdnZXIgbGlzdGVuaW5nIG9uIHdzJykpIHtcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnB1c2goYFske3RoaXMuY2lkfV0gJHtsb2dNc2d9YClcbiAgICAgICAgY2FsbGJhY2soKVxuICAgIH1cbn1cbiJdfQ==